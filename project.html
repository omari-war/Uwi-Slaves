<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="Cache-Control" content="max-age=604800, public">
    <meta http-equiv="Expires" content="Wed, 21 Apr 2023 12:00:00 GMT">
    <meta http-equiv="ETag" content="qx28zek4tn392">
    <meta http-equiv="Last-Modified" content="Wed, 14 Apr 2023 12:00:00 GMT">
    <title>US Movie Database</title>
    <link href="styles/style.css" rel="stylesheet" type="text/css" />
    <link href="styles/dropdown.css" rel="stylesheet" type="text/css" />
    <link href="styles/sidebar.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/lazyload/lazyload.min.js"></script>
</head>

<body>
    <div class="app">
        <div class="menu-toggle">
            <div class="hamburger">
                <span></span>
            </div>
        </div>

        <aside class="sidebar">

            <div class="logo">
                <img src="images/logo.png" alt="">
            </div>

            <h3>Menu</h3>

            <nav class="menu">
                <a href="#" class="menu-item is-active" id="item-1" name="item-1"
                    onclick="highlight(this); showTitleData();">Movie</a>
                <a href="#" class="menu-item" id="item-3" name="item-3"
                    onclick="highlight(this); showTVData();">Tv Show</a>
                <a href="#" class="menu-item" id="item-2" name="item-2"
                    onclick="highlight(this); showActorData();">Actors</a>
            </nav>
        </aside>

        <main class="content">
            <div class="logo-head">
                <img src="images/logo.png" alt="">
            </div>
            <div class="util">
                <div class="input-wrapper">
                        <input type="text" id="searchBox" placeholder="Search" name="q" onkeypress="return event.keyCode != 13;">
                        <img  onclick="search(); "class="search-icon" src="images/searchicon.png">     
                </div>
                <div class="genres">
                    <div class="sec-center">
                        <input class="dropdown" type="checkbox" id="dropdown" name="dropdown" />
                        <label class="for-dropdown" for="dropdown">Sort<i class="uil uil-arrow-down"></i></label>
                        <div class="section-dropdown" id="ddown-menu">
                        </div>
                    </div>

                </div>
            </div>
            <div class="items">
                <div class="scrollable" id="result">
                </div>
            </div>
        </main>
    </div>
    
    <script>var lazyLoadInstance = new LazyLoad({
        elements_selector: ".lazy"
    });</script>
    <script src="javaScript/header.js"></script>
    <script src="javaScript/getMovieTitle.js"></script>
    <script src="javaScript/getTvShow.js"></script>
    <script src="javaScript/getActor.js"></script>
    <script src="javaScript/dropDownMenu.js"></script>
    <script src="javaScript/main.js"></script>

    <script>

        const menu_toggle = document.querySelector('.menu-toggle');
        const sidebar = document.querySelector('.sidebar');

        menu_toggle.addEventListener('click', () => {
            menu_toggle.classList.toggle('is-active');
            sidebar.classList.toggle('is-active');
        });


        function resetHighlighted() {
            let i1 = document.getElementById('item-1')
            let i2 = document.getElementById('item-2')
            let i3 = document.getElementById('item-3')
            i1.classList.remove('is-active')
            i2.classList.remove('is-active')
            i3.classList.remove('is-active')
        }

        function highlight(element) {
            resetHighlighted();
            element.classList.add('is-active');
        }

        let stateTitleData = []
        let stateTVData = []
        let stateActorData = []

        showTitleData()

        async function getData() {
            stateTVData = await getTvShowTitleData()
            stateActorData = await getActorData()
        }

        getData()
    </script>
</body>

</html>